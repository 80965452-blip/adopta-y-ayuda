<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Adopta y Ayuda - Adopciones</title>
  <meta name="description" content="Adopta y Ayuda - Adopta a tu nuevo mejor amigo. Sistema de adopci√≥n demo.">
  <link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">
  <style>
    :root{
      --card:#fff;
      --accent:#8B4513;
      --muted:#5a4634;
      --radius:12px;
      font-family: 'Special Elite', cursive, serif;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background:url('https://cdn.pixabay.com/photo/2016/11/29/03/53/paper-1868676_1280.jpg') no-repeat center center fixed;
      background-size:cover;
      color:#2c1810;
    }
    header{
      background:rgba(139,69,19,0.9);
      color:#fff;
      padding:28px 18px;
      text-align:center;
      border-bottom:6px solid #3e1e0d;
    }
    .container{max-width:1100px;margin:22px auto;padding:0 18px}
    h1{margin:0;font-size:40px;letter-spacing:2px;text-transform:uppercase}
    p.lead{margin:6px 0 0;font-size:18px}

    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:18px;margin-top:18px}
    .card{
      background:var(--card);
      border:3px solid #3e1e0d;
      border-radius:var(--radius);
      padding:14px;
      box-shadow:0 8px 20px rgba(20,10,0,0.4);
      display:flex;
      flex-direction:column;
      transition:transform 0.2s;
    }
    .card:hover{transform:scale(1.02)}
    .thumb{
      height:180px;
      border:3px solid #3e1e0d;
      background-size:cover;
      background-position:center;
      margin-bottom:12px
    }
    .meta{display:flex;gap:8px;align-items:center;justify-content:space-between}
    .name{font-weight:700;font-size:20px}
    .muted{color:var(--muted);font-size:14px}
    .actions{margin-top:auto;display:flex;gap:8px;flex-wrap:wrap}
    button{
      cursor:pointer;
      border:2px solid #3e1e0d;
      padding:8px 12px;
      border-radius:8px;
      background:#d2b48c;
      color:#2c1810;
      font-weight:700;
      transition:background 0.2s;
    }
    button:hover{background:#deb887}
    button.secondary{background:#fff8dc}
    button.ghost{background:transparent}
    .small{padding:6px 10px;font-size:14px}

    .modal-backdrop{position:fixed;inset:0;background:rgba(20,10,0,0.6);display:none;align-items:center;justify-content:center;padding:18px}
    .modal{width:100%;max-width:640px;background:#fff8dc;border:4px solid #3e1e0d;border-radius:12px;padding:18px}

    label{font-weight:600;font-size:14px}
    input[type="text"],textarea,select{
      width:100%;padding:10px;border-radius:8px;border:1px solid #b8860b;font-size:14px
    }
    textarea{min-height:80px}
    .note{background:#fff6db;padding:10px;border-radius:8px;border:1px solid #b8860b;color:#6b4a00}
    footer{margin:28px 0 80px;color:#3e1e0d;text-align:center;font-size:14px}

    .reviews{margin-top:12px}
    .review{border-top:1px dashed #b8860b;padding:8px 0}
    .rating{font-weight:700;color:#8B0000}
    @media (max-width:640px){.thumb{height:140px}}
  </style>
</head>
<body>
  <header>
    <h1>Adopta y Ayuda</h1>
    <p class="lead">Encuentra y solicita la adopci√≥n de tu compa√±ero ideal.</p>
  </header>

  <main class="container">
    <section aria-labelledby="catalogo">
      <h2 id="catalogo">Perros disponibles</h2>
      <p class="muted">Haz clic en <strong>Ver</strong> para m√°s detalles o en <strong>Adoptar</strong> para iniciar la solicitud.</p>
      <div id="list" class="grid" aria-live="polite"></div>
    </section>

    <div id="modal" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="modal" id="modalContent">
        <button id="closeModal" class="ghost small" style="float:right">Cerrar ‚úï</button>
        <div id="ficha"></div>
      </div>
    </div>

    <section style="margin-top:20px">
      <h3>Solicitudes recientes</h3>
      <div id="solicitudes" class="muted">No hay solicitudes a√∫n.</div>
    </section>

    <footer>
      ¬© Adopta y Ayuda ‚Äî Proyecto escolar estilo viejo oeste ü§†
    </footer>
  </main>

<script>
const DOGS = [
  {id:'luna',name:'Luna',age:'2 a√±os',breed:'Mestiza',desc:'Alegre, sociable y le encanta jugar.',img:'https://images.unsplash.com/photo-1558788353-f76d92427f16?w=600&h=400&fit=crop'},
  {id:'max',name:'Max',age:'4 a√±os',breed:'Labrador',desc:'Cari√±oso y tranquilo. Ideal para familias.',img:'https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=600&h=400&fit=crop'},
  {id:'mora',name:'Mora',age:'1 a√±o',breed:'Peque√±a',desc:'En√©rgica y curiosa. Necesita paseos diarios.',img:'https://images.unsplash.com/photo-1574158622682-e40e69881006?w=600&h=400&fit=crop'},
  {id:'rocky',name:'Rocky',age:'3 a√±os',breed:'Pastor',desc:'Protectivo y leal. Requiere espacio para correr.',img:'https://images.unsplash.com/photo-1619983081563-430f636ad1b3?w=600&h=400&fit=crop'},
  {id:'nina',name:'Nina',age:'5 a√±os',breed:'Golden Retriever',desc:'Dulce, calmada y obediente.',img:'https://images.unsplash.com/photo-1507149833265-60c372daea22?w=600&h=400&fit=crop'},
  {id:'toby',name:'Toby',age:'2 a√±os',breed:'Beagle',desc:'Travieso y amigable.',img:'https://images.unsplash.com/photo-1504595403659-9088ce801e29?w=600&h=400&fit=crop'},
  {id:'kiara',name:'Kiara',age:'6 meses',breed:'Mestiza peque√±a',desc:'Cachorra juguetona.',img:'https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=600&h=400&fit=crop'},
  {id:'duke',name:'Duke',age:'3 a√±os',breed:'Husky',desc:'Energ√©tico y protector.',img:'https://images.unsplash.com/photo-1517849845537-4d257902454a?w=600&h=400&fit=crop'},
  {id:'sasha',name:'Sasha',age:'4 a√±os',breed:'Boxer',desc:'Valiente y cari√±osa.',img:'https://images.unsplash.com/photo-1517423440428-a5a00ad493e8?w=600&h=400&fit=crop'},
  {id:'coco',name:'Coco',age:'2 a√±os',breed:'French Bulldog',desc:'Peque√±o y juguet√≥n.',img:'https://images.unsplash.com/photo-1625246333195-d362cf6c5f77?w=600&h=400&fit=crop'}
];

const listEl=document.getElementById('list');
const modal=document.getElementById('modal');
const fichaEl=document.getElementById('ficha');
const closeModal=document.getElementById('closeModal');
const solicitudesEl=document.getElementById('solicitudes');

function loadReviews(){return JSON.parse(localStorage.getItem('adopta_reviews')||'{}');}
function saveReviews(o){localStorage.setItem('adopta_reviews',JSON.stringify(o));}
function loadSolicitudes(){return JSON.parse(localStorage.getItem('adopta_solicitudes')||'[]');}
function saveSolicitudes(a){localStorage.setItem('adopta_solicitudes',JSON.stringify(a));}

function renderList(){
  listEl.innerHTML='';
  DOGS.forEach(d=>{
    const card=document.createElement('article');card.className='card';
    card.innerHTML=`
      <div class="thumb" style="background-image:url('${d.img}')"></div>
      <div class="meta"><div><div class="name">${d.name}</div><div class="muted">${d.age} ‚Ä¢ ${d.breed}</div></div></div>
      <p>${d.desc}</p>
      <div class="actions">
        <button onclick="openFicha('${d.id}')">Ver</button>
        <button onclick="startAdopt('${d.id}')">Adoptar</button>
        <button class="secondary" onclick="shareDog('${d.id}')">Compartir</button>
      </div>`;
    listEl.appendChild(card);
  });
}

function renderSolicitudes(){
  const s=loadSolicitudes();
  if(!s.length){solicitudesEl.textContent='No hay solicitudes a√∫n.';return}
  solicitudesEl.innerHTML='';
  s.slice().reverse().forEach(req=>{
    const d=DOGS.find(x=>x.id===req.dogId)||{name:req.dogId};
    const div=document.createElement('div');div.style.marginBottom='8px';
    div.innerHTML=`<strong>${req.name}</strong> solicit√≥ a <strong>${d.name}</strong> ‚Äî Direcci√≥n: ${req.address} ‚Äî Estado: <em>${req.status}</em>`;
    solicitudesEl.appendChild(div);
  });
}

function openFicha(id){
  const dog=DOGS.find(d=>d.id===id);
  fichaEl.innerHTML=`
    <h2>${dog.name}</h2>
    <img src="${dog.img}" alt="${dog.name}" style="width:100%;border:3px solid #3e1e0d;margin-bottom:10px">
    <p><strong>Edad:</strong> ${dog.age} ‚Äî <strong>Raza:</strong> ${dog.breed}</p>
    <p>${dog.desc}</p>
    <button onclick="startAdopt('${id}')">Iniciar adopci√≥n</button>
    <button class="secondary" onclick="shareDog('${id}')">Compartir</button>`;
  showModal();
}

function showModal(){modal.style.display='flex';modal.setAttribute('aria-hidden','false');}
function hideModal(){modal.style.display='none';modal.setAttribute('aria-hidden','true');}
closeModal.addEventListener('click',hideModal);
modal.addEventListener('click',e=>{if(e.target===modal)hideModal();});

function startAdopt(id){
  const dog=DOGS.find(d=>d.id===id);
  fichaEl.innerHTML=`
    <h2>Solicitud de adopci√≥n ‚Äî ${dog.name}</h2>
    <form onsubmit="event.preventDefault();submitAdoption('${id}')">
      <label>Nombre completo</label><input id="fullname" required>
      <label>Direcci√≥n</label><input id="address" required>
      <label>Tel√©fono</label><input id="phone">
      <button type="submit">Enviar solicitud</button>
    </form>`;
  showModal();
}

function submitAdoption(dogId){
  const name=document.getElementById('fullname').value.trim();
  const address=document.getElementById('address').value.trim();
  const phone=document.getElementById('phone').value.trim();
  if(!address){alert('La direcci√≥n es obligatoria.');return}
  const solicitudes=loadSolicitudes();
  const solicitud={id:'s_'+Date.now(),dogId,name,address,phone,status:'En revisi√≥n'};
  solicitudes.push(solicitud);saveSolicitudes(solicitudes);renderSolicitudes();
  fichaEl.innerHTML=`<h2>Solicitud enviada ‚úî</h2><p>Gracias, ${name}. Tu solicitud para adoptar a ${DOGS.find(d=>d.id===dogId).name} ha sido enviada.</p>`;
}

function shareDog(id){
  const dog=DOGS.find(d=>d.id===id);
  const url=window.location.href.split('#')[0]+'#'+id;
  if(navigator.share){
    navigator.share({title:'Adopta a '+dog.name,text:dog.desc,url});
  }else{
    navigator.clipboard.writeText(url);
    alert("Enlace copiado: "+url);
  }
}

renderList();
renderSolicitudes();
</script>
</body>
</html>
